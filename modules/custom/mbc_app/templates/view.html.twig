<h2>{{  title }}</h2>

<div ng-app="mbcApp">
    <div class="left-sidebar" style="width: 15%; float: left">
        <div ng-controller="PageList">
            {% verbatim %}
             <form ng-submit="newPage()" >
                <div class="form-group">
                    <label>Create a new Page</label>
                    <input ng-model="title" class="form-control" placeholder="Page title" autofocus  />
                    <button class="btn btn-primary" type="submit">Add Page</button>
                </div>
             </form>
             <ul class="pages" dnd-list="pages">
                <li ng-repeat="page in pages" weight="{{page.field_weight_value}}" dnd-draggable="page" dnd-effect-allowed="move" dnd-moved="pages.splice($index, 1)">
                    <a href="page/{{ page.nid }}" ng-bind-html="page.title"></a>
                    (<a href="#" ng-click="deletePage(page.nid)">Delete</a>)
                </li>
              </ul>
              <hr />
              <a href="#" ng-click="savePagesList()">Save</a>
            {% endverbatim %}
        </div>
    </div>
    <div ng-controller="DemoCtrl">
        {% verbatim %}
          <p>{{widgets}}</p>
            <div class="main-canvas" style="width: 70%; float: left">
                <div gridstack class="grid-stack grid1" options="options" on-change="onChange(event,items)" on-drag-start="onDragStart(event,ui)" on-drag-stop="onDragStop(event,ui)" on-resize-start="onResizeStart(event,ui)" on-resize-stop="onResizeStop(event,ui)">
                    <div gridstack-item ng-repeat="w in widgets" class="grid-stack-item" gs-item-x="w.x" gs-item-y="w.y"
                         gs-item-width="w.width" gs-item-height="w.height" gs-item-autopos="1" on-item-added="onItemAdded(item)" on-item-removed="onItemRemoved(item)" mbc-widget-id="w.mbcWidgetId">
                        <div class="grid-stack-item-content">
                            <a class="btn btn-primary" ng-click="removeWidget(w)" href="#">remove</a>
                            <div class="mbc-widget">

                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="right-canvas" style="width: 15%; float: left">

                <ul>
                  <li>
                    <a class="btn btn-primary" ng-click="addWidget('button')" href="#">Add Button</a>
                  </li>
                  <li>
                    <a class="btn btn-primary" ng-click="addWidget('calendar')" href="#">Add Calendar</a>
                  </li>
                </ul>

            </div>
        {% endverbatim %}
    </div>
</div>